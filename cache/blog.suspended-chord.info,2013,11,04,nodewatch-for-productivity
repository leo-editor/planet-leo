<?xml version="1.0" ?><entry xmlns="http://www.w3.org/2005/Atom" xmlns:planet="http://planet.intertwingly.net/"><id>http://blog.suspended-chord.info/2013/11/04/nodewatch-for-productivity/</id><link href="http://blog.suspended-chord.info/2013/11/04/nodewatch-for-productivity/" rel="alternate" type="text/html"/><title>Nodewatch for Productivity</title><summary type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><p>Recently, I contributed the nodewatch.py plugin to Leo.  I wrote this as a way to keep myself productive, and have an at-a-glimpse look at important nodes in my workbook.leo file.  I thought I’d share the <code>@nodewatch</code> definitions I hacked together to help with this…</p></div></summary><content type="xhtml"><div xmlns="http://www.w3.org/1999/xhtml"><p>Recently, I contributed the nodewatch.py plugin to Leo.  I wrote this as a way to keep myself productive, and have an at-a-glimpse look at important nodes in my workbook.leo file.  I thought I’d share the <code>@nodewatch</code> definitions I hacked together to help with this.</p>

<p>Some important notes:</p>

<ol>
<li>The snippets below are on gist, which does not to my knowledge allow syntax highlighting without a file suffix.  Ignore the .py in the filenames — those are node headlines.</li>
<li>These definitons require Terry Brown’s todo.py plugin to be enabled, else they will throw exceptions and not work.</li>
<li>These definitions use python-dateutil’s relativedelta to make my life easier.  You’ll need to <code>pip install python-dateutil</code> to get these scripts to work.</li>
</ol>


<p>Some preliminaries first.  All four of the @nodewatch definitions I have below use the same <code>&lt;&lt; imports &gt;&gt;</code> and <code>get_tasks_by_date</code> nodes as children.  I used clones for this, to keep them all in sync.  Here’s <code>&lt;&lt; imports &gt;&gt;</code>:</p>




<p>And here’s <code>get_tasks_by_date</code>:</p>




<p>Alright… now, get_tasks_by_date() returns a list of vnodes that are not marked ‘done’ by todo.py, but have a duedate or nextworkdate such that comparator(date,otherdate) is True.  That does <em>all</em> the hard work.  Next up is 4 very similar @nodewatch definitions:</p>



















<p>Putting this all together under your <code>@settings</code> node, and clicking the Refresh button (or running the command <code>nodewatch-update</code>), you now have 4 categories in your Nodewatch GUI’s drop-down box: ‘LTD: 00 Past Due’, ‘LTD: 01 Due Today’, ‘LTD: 02 Due Tomorrow’, and ‘LTD: 03 Due This Week’.  This will help you get fast looks at what you need to focus on today, tomorrow, and this week.</p>

<p>Unfortunately, the <code>get_tasks_by_date</code> code is a bit ugly and really dense, and it required a read through of the todo.py source, and understanding of the operator module… but it packs a lot of filtering power into those lines, making other due-date sorting @nodewatch definitions easier in the future.  For example, you could define a <code>@nodewatch Due This Month</code> script with:</p>




<p>Plenty of other things can be done with nodewatch, but this is my primary usage so far.</p></div></content><updated planet:format="November 04, 2013 12:00 AM">2013-11-04T00:00:00Z</updated><published planet:format="November 04, 2013 12:00 AM">2013-11-04T00:00:00Z</published><author><name>Jake Peck</name></author><source><id>http://blog.suspended-chord.info</id><author><name>Jake Peck</name></author><link href="http://blog.suspended-chord.info/leo.xml" rel="self" type="application/atom+xml"/><title>a-&gt;ab</title><updated planet:format="December 02, 2013 12:00 AM">2013-12-02T00:00:00Z</updated><planet:faceheight>85</planet:faceheight><planet:activity_threshold>0</planet:activity_threshold><planet:format>atom10</planet:format><planet:facewidth>65</planet:facewidth><planet:http_etag>&quot;f3d7e23407b2fe37425b0a16847abf6211933e00&quot;</planet:http_etag><planet:bozo>false</planet:bozo><planet:name>a→ab (Jacob Peck)</planet:name><planet:css-id>a-ab-jacob-peck</planet:css-id><planet:http_status>200</planet:http_status></source></entry>