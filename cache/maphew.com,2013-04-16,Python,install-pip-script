<?xml version="1.0" ?><entry xml:lang="En" xmlns="http://www.w3.org/2005/Atom" xmlns:planet="http://planet.intertwingly.net/"><id>tag:www.maphew.com,2013-04-16:/Python/install-pip-script</id><link href="http://www.maphew.com/Python/install-pip-script/" rel="alternate" type="text/html"/><title xml:lang="En">Install Pip script</title><content type="xhtml" xml:lang="En"><div xmlns="http://www.w3.org/1999/xhtml"><p><em>Introducing a pure python means to install pip and it's requirements <a href="https://gist.github.com/maphew/5393935">all in one go</a>.</em></p>
<p>Installing <a href="http://www.pip-installer.org/en/latest/">pip</a> on Windows is relatively straightforward, now, but still a tad bumpy. Basically it consists of </p>
<ol>
<li>Download distribute or setuptools</li>
<li>Install it with <code>python distribute_setup.py</code></li>
<li>Download the get-pip script</li>
<li>Install with <code>python get-pip.py</code></li>
</ol>
<p><em>(Aside: curiously the <a href="https://pypi.python.org/pypi/distribute/">distribute docs</a> say you can use pip to install distribute!)</em></p>
<p>On Windows this means installing <code>wget</code> or <code>curl</code> in order to follow the install instructions as given, or pointing and clicking your through <em>click-this-url &gt;&gt; save as &gt;&gt; choose a spot &gt;&gt; open a python shell &gt;&gt; ...etc.</em>. Easy, but boring and easy to make small mistakes which means repeating all or part of the recipe. </p>
<p>So as part of my continuing quest to learn enough to be called a true pythonista, I wrote a small script to do it all in one go, <a href="https://gist.github.com/maphew/5393935">install-pip.py</a>. It is adapted from <a href="http://stackoverflow.com/users/585592/fernando-macedo">Fernando Macedo</a>'s answer in <a href="http://stackoverflow.com/questions/4750806/how-to-install-pip-on-windows/">How to install pip on windows?</a>. The seminal idea is it use <code>urllib</code> to do the download, which is included in Python's standard library -- isn't it just great to have batteries included? (though it would begs the question of why there isn't a python package installer battery included...)</p>
<p>The script does a bit more, but here's the essential idea (the blog renderer is messing up the indentation, sorry):</p>
<div class="highlight"><pre><span class="n">sources</span> <span class="p">=</span> <span class="p">[</span>
    <span class="s">'http://python-distribute.org/distribute_setup.py'</span><span class="p">,</span>
    <span class="s">'https://raw.github.com/pypa/pip/master/contrib/get-pip.py'</span><span class="p">,</span>
    <span class="p">]</span>

<span class="k">for</span> <span class="n">src</span> <span class="n">in</span> <span class="n">sources</span><span class="p">:</span>
    <span class="n">f</span> <span class="p">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">src</span><span class="p">).</span><span class="n">read</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span> <span class="n">exec</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
    <span class="n">except</span><span class="p">:</span> <span class="n">pass</span>
</pre></div>


<p>Passing on an exception instead of dealing with it isn't a great idea, maybe even a stupid one, but without it only the first file is executed. Comments, fixes, and enhancements are all welcome. :)  </p>
<p>See <a href="https://gist.github.com/maphew/5393935">https://gist.github.com/maphew/5393935</a></p></div></content><updated planet:format="April 16, 2013 10:22 PM">2013-04-16T22:22:00Z</updated><category term="python"/><author><name>matt wilkie</name><email>maphew+website@gmail.com</email><uri>http://www.maphew.com/</uri></author><source><id>tag:www.maphew.com,2011-06-11:/atom/</id><icon>http://www.maphew.com/favicon.ico</icon><logo>http://www.maphew.com/feed-logo.png</logo><author><name>matt wilkie</name><email>maphew+website@gmail.com</email><uri>http://www.maphew.com/</uri></author><link href="http://www.maphew.com/" rel="alternate" type="text/html"/><link href="http://www.maphew.com/atom/" rel="self" type="application/atom+xml"/><title xml:lang="En">a hewer of maps</title><updated planet:format="May 17, 2013 08:54 AM">2013-05-17T08:54:00Z</updated><planet:format>atom10</planet:format><planet:http_etag>&quot;2699bcc-1a063-4ec5e8c135200&quot;</planet:http_etag><planet:http_last_modified>Sat, 30 Nov 2013 05:52:08 GMT</planet:http_last_modified><planet:bozo>true</planet:bozo><planet:activity_threshold>0</planet:activity_threshold><planet:facewidth>65</planet:facewidth><planet:faceheight>85</planet:faceheight><planet:http_status>200</planet:http_status></source></entry>